# ğŸ  **ì„œìš¸ì‹œ ì•„íŒŒíŠ¸ ê°€ê²© ì˜ˆì¸¡** 

---



## ğŸ“Œ í”„ë¡œì íŠ¸ ì£¼ì œ

- ì„œìš¸ì‹œ ê³µê³µë°ì´í„°ë¥¼ í™œìš©í•´ ì•„íŒŒíŠ¸ ê°€ê²© ì˜ˆì¸¡ ëª¨ë¸ì„ ìƒì„±í•˜ê³  ìœ ì €ê°€ ì…ë ¥í•˜ëŠ” ì•„íŒŒíŠ¸ ì •ë³´ë¥¼ í†µí•´ í˜„ì¬(2021ë…„) ì•„íŒŒíŠ¸ ê°€ê²© ì˜ˆì¸¡ ì›¹ ì„œë¹„ìŠ¤ êµ¬í˜„


## ğŸ“Œ í”„ë¡œì íŠ¸ ê¸°ê°„

- 2021ë…„ 11ì›” 02ì¼ ~ 11ì›” 12ì¼ê¹Œì§€(9ì¼)


## ğŸ“Œí”„ë¡œì íŠ¸ ì°¸ì—¬ ì¸ì›

- ë°ì´í„° EDA, ì „ì²˜ë¦¬, ì˜ˆì¸¡ ëª¨ë¸ êµ¬í˜„ - 3ëª…
- Django ì›¹ ì„œë¹„ìŠ¤ êµ¬í˜„ - 3ëª… 
- ë§¡ì€ ì—­í•  : ë°ì´í„° EDA, ì „ì²˜ë¦¬, ì˜ˆì¸¡ ëª¨ë¸ êµ¬í˜„


## ğŸ“Œì‚¬ìš©ëœ ê°œë°œ í™˜ê²½ / ë¼ì´ë¸ŒëŸ¬ë¦¬

- ê°œë°œ í™˜ê²½
  - Window10
  - Python 3.7.3
  - Jupyter-Notebook
  - Google Colab
  - VS Code
- ë¼ì´ë¸ŒëŸ¬ë¦¬
  - ì „ì²˜ë¦¬ / ì‹œê°í™”
    - Lux
      - lux-api 0.4.0
      - lux-widget 0.1.7
  - ëª¨ë¸ ë¶„ì„ / HPO
    - Pandas 1.2.5
    - Scikit-learn 1.0.1
    - Catboost 1.0.3
    - LightGBM 3.3.1
    - XGBoost 1.5.0
    - Vecstack 0.4.0
    - Joblib 1.1.0
  - ì›¹ êµ¬í˜„
    - Django 3.2.9


## ğŸ“Œ í”„ë¡œì íŠ¸ ì„¤ëª…

- ë°ì´í„° ì†Œê°œ

  - 2016ë…„ ~ 2020ë…„ ì„œìš¸íŠ¹ë³„ì‹œ ë¶€ë™ì‚° ì‹¤ê±°ë˜ê°€ ì •ë³´ (ì„œìš¸ì‹œ ì—´ë¦° ë°ì´í„° ê´‘ì¥)

  - 2021ë…„ ì„œìš¸íŠ¹ë³„ì‹œ ë¶€ë™ì‚° ì‹¤ê±°ë˜ê°€ ì •ë³´ (êµ­í† êµí†µë¶€ ì‹¤ê±°ë˜ê°€ ê³µê°œ ì‹œìŠ¤í…œ)

  - ì•„íŒŒíŠ¸ ë§¤ë§¤ê°€ê²©ì§€ìˆ˜ (KOSIS êµ­ê°€í†µê³„í¬í„¸)

    

- ì „ì²˜ë¦¬ ê³¼ì •

  - ë¶ˆí•„ìš”í•œ Feature ì‚­ì œ

    - ì˜ˆì¸¡ê³¼ ê´€ë ¨ ì—†ëŠ” Feature (ì‹¤ê±°ë˜ê°€ ì•„ì´ë””, ì—…ë¬´ êµ¬ë¶„, ë¬¼ê±´ë²ˆí˜¸ ë“±) ì‚­ì œ
    - ë‹¤ë¥¸ Featureë¡œ ëŒ€ì²´ ê°€ëŠ¥í•œ Feature (ì§€ë²ˆ ì½”ë“œ, ì‹œêµ°êµ¬ ì½”ë“œ, â€¦ ê´€ë¦¬ êµ¬ë¶„ì½”ë“œ, ê±´ë¬¼ ì£¼ìš©ë„ ì½”ë“œ) ê¸°ì¡´ ëª…ì¹­ ëŒ€ì²´
    - ëŒ€ì§€ê¶Œ ë©´ì  Feature ì‚­ì œ (ì•„íŒŒíŠ¸ëŠ” ëŒ€ê¸°ê¶Œ ë©´ì ì´ ì—†ìŒ)
    
  - 2021ë…„ë„ ì‹¤ê±°ë˜ ë°ì´í„° ë§¤ì¹­ ì‘ì—…

    - ê¸°ì¡´ Featureë¥¼ 2016~2021 ì‹¤ê±°ë˜ ë°ì´í„°ì— ë§ê²Œ ê°€ê³µ, ë‹¨ìœ„ ë³€ê²½ ì§„í–‰ (ì‹œêµ°êµ¬, ê±°ë˜ê¸ˆì•¡ ë“±)
  - Feature êµ¬ì„±ì´ ê¸°ì¡´ê³¼ ë‹¤ë¥´ê±°ë‚˜ ë§¤ì¹­ì´ í˜ë“  ë¶€ë¶„ì€ ì‚­ì œ (ë²ˆì§€, ë³¸ë²ˆ, ê±°ë˜ ìœ í˜•, â€¦ ë„ë¡œëª…, ì¤‘ê°œì‚¬ ì†Œì¬ì§€ ë“±)
  
  - 2016~2020ë…„ 2021ë…„ ì‹¤ê±°ë˜ ë°ì´í„° ë³‘í•©

    - ì „ì²˜ë¦¬ ì™„ë£Œëœ ë°ì´í„° ë³‘í•© ì²˜ë¦¬

      

- ëª¨ë¸ / ë¶„ì„

  - ì „ì²˜ë¦¬ ì™„ë£Œëœ ë°ì´í„°ë¥¼ Google AutoMLì„ ì‚¬ìš©í•´ ê¸°ë³¸ì ì¸ ì„±ëŠ¥ ì§€í‘œ í™•ì¸
  - Scikit-learn ë‚´ íšŒê·€ ëª¨ë¸ ì¤‘ ì¼ë¶€ë¥¼ ì„ íƒí•´ ê¸°ë³¸ Hyper-Parameterë¡œ ëª¨ë¸ í•™ìŠµí•˜ë©° ì„±ëŠ¥ì§€í‘œ í™•ì¸ ë° í…ŒìŠ¤íŠ¸
  - í…ŒìŠ¤íŠ¸ ì‹œ ë†’ì€ R2 Scoreë¥¼ ê¸°ë¡í•œ ëª¨ë¸ì„ 5ê°€ì§€ ì„ ë³„í•´ GridSearchë¡œ HPO ì§„í–‰
    - ì„ ë³„ê¸°ì¤€ 
      1. R2 Score 
      2. ì˜ˆì¸¡ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì´ ê°€ê¸‰ì  ì¤‘ë³µë˜ì§€ ì•Šì„ ê²ƒ (Stacking ê¸°ë²• ì‚¬ìš©ì„ ìœ„í•´)
  - ì„œìš¸ì‹œ êµ¬ ë³„ ì•„íŒŒíŠ¸ ê°€ê²© ì°¨ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ìì¹˜êµ¬ë³„ ë°ì´í„°ë¥¼ êµ¬ë¶„í•´ ëª¨ë¸ í•™ìŠµ ì§„í–‰
  - Hyper-Parameter Optimization ê¹Œì§€ ë§ˆì¹œ íšŒê·€ ëª¨ë¸ 5ê°œë¥¼ Stacking ê¸°ë²•ì„ ì ìš©í•´ ìµœì¢… ëª¨ë¸ í•™ìŠµ í›„ ì™„ì„±ëœ ëª¨ë¸ì„ WEB ì„œë¹„ìŠ¤ì— íƒ‘ì¬


## ğŸ“Œ í•µì‹¬ ì½”ë“œ

- ì „ì²˜ë¦¬

```python
apart_2021 = apart_2021[apart_2021['í•´ì œì‚¬ìœ ë°œìƒì¼'].isnull()] # ê³„ì•½ í•´ì œì‚¬ìœ ë°œìƒ ê±´ ì‚­ì œ
apart_2021.drop(['ë²ˆì§€','ë³¸ë²ˆ','ë¶€ë²ˆ','ê³„ì•½ì¼','ë„ë¡œëª…','í•´ì œì‚¬ìœ ë°œìƒì¼','ê±°ë˜ìœ í˜•','ì¤‘ê°œì‚¬ì†Œì¬ì§€'],axis=1, inplace=True) # ë¶ˆí•„ìš” ì—´ ì‚­ì œ

apart_2021['ìì¹˜êµ¬ëª…'] = apart_2021['ì‹œêµ°êµ¬'].str.split(" ").str[1] # ìì¹˜êµ¬ëª… ì¶”ì¶œ
apart_2021['ë²•ì •ë™ëª…'] = apart_2021['ì‹œêµ°êµ¬'].str.split(" ").str[2] # ë²•ì •ë™ëª… ì¶”ì¶œ
apart_2021.drop(['ì‹œêµ°êµ¬'], axis='columns', inplace=True) # ì‹œêµ°êµ¬ ì—´ ì‚­ì œ

apart_2021['ê³„ì•½ë…„ì›”'] = apart_2021['ê³„ì•½ë…„ì›”'] = 2021 # ê³„ì•½ë…„ì›” ì „ì²´ 2021ë…„ìœ¼ë¡œ ëŒ€ì²´

apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'] = apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'].str.replace(",", '') # ê±°ë˜ê¸ˆì•¡ ì—´ ë‚´ ',' ì œê±°
apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'] = apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'].astype(int) # ê±°ë˜ê¸ˆì•¡ ì—´ íƒ€ì… ë³€ê²½(object > int)
apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'] = apart_2021['ê±°ë˜ê¸ˆì•¡(ë§Œì›)'].apply(lambda x : x * 10000) # ê±°ë˜ê¸ˆì•¡ ì—´ ë‹¨ìœ„(ë§Œì› > ì›) ë³€ê²½

apart_2021 = apart_2021.rename(columns={'ë‹¨ì§€ëª…':'ê±´ë¬¼ëª…', 'ì „ìš©ë©´ì (ã¡)':'ê±´ë¬¼ë©´ì ', 'ê±°ë˜ê¸ˆì•¡(ë§Œì›)':'ë¬¼ê±´ê¸ˆì•¡', 'ì¸µ':'ì¸µì •ë³´', 'ê³„ì•½ë…„ì›”':'ì‹ ê³ ë…„ë„'}) # ì—´ ì´ë¦„ ë³€ê²½
apart_2021 = apart_2021[['ìì¹˜êµ¬ëª…','ë²•ì •ë™ëª…','ì‹ ê³ ë…„ë„','ê±´ë¬¼ë©´ì ','ì¸µì •ë³´','ë¬¼ê±´ê¸ˆì•¡','ê±´ì¶•ë…„ë„','ê±´ë¬¼ëª…']]

floor_drop_index = apart_all[apart_all['ì¸µì •ë³´'] == 0].index # ì¸µì •ë³´ ê²°ì¸¡ì¹˜ ì‚­ì œ
apart_all.drop(floor_drop_index, inplace=True)
const_year_index = apart_all[apart_all['ê±´ì¶•ë…„ë„'] == 0].index # ê±´ì¶•ë…„ë„ ê²°ì¸¡ì¹˜ ì‚­ì œ
apart_all.drop(const_year_index, inplace=True)

apart_all['ê²½ê³¼ë…„ë„'] = apart_all['ê±´ì¶•ë…„ë„'].apply(lambda x : int(datetime.datetime.now().year) - x) # í˜„ì¬ë…„ë„ - ê±´ì¶•ë…„ë„
apart_all['ê²½ê³¼ë…„ë„'] = apart_all[['ê²½ê³¼ë…„ë„']].replace(int(datetime.datetime.now().year),0) # 0 ê°’ìœ¼ë¡œ ìƒê¸´ í˜„ì¬ë…„ë„ ê°’ 0ìœ¼ë¡œ ëŒ€ì²´

brands = ['ë˜ë¯¸ì•ˆ','íìŠ¤í…Œì´íŠ¸','ìì´','ë”ìƒµ','#','í‘¸ë¥´ì§€ì˜¤','íìŠ¤í…Œì´íŠ¸','ë¡¯ë°ìºìŠ¬','ì•„í¬ë¡œ','ì•„ì´íŒŒí¬','IPARK','ì—ìŠ¤ì¼€ì´ë·°','SKVIEW'] # ì‹œê³µì‚¬ ë¸Œëœë“œ Top 10
brand = '|'.join(brands) # contains ê¸°ëŠ¥ì„ í™œìš©í•´ í•œë²ˆì— ì°¾ì•„ë‚¼ ìˆ˜ ìˆë„ë¡ List > Str í˜•íƒœë¡œ ë³€í˜•í•˜ë©° ë¸Œëœë“œ ì‚¬ì´ì— |(or) ì…ë ¥
apart_all['ë¸Œëœë“œì ìˆ˜'] = apart_all['ê±´ë¬¼ëª…'].str.contains(brand) # ê±´ë¬¼ëª…ì— Top10 ë¸Œëœë“œê°€ ìˆëŠ” ê²½ìš° True ì•„ë‹ˆë©´ False
apart_all['ë¸Œëœë“œì ìˆ˜'] = apart_all['ë¸Œëœë“œì ìˆ˜'].apply(lambda x : 1 if x == True else 0)

apart_all['ë²•ì •ë™ëª…'] = apart_all['ë²•ì •ë™ëª…'].apply(lambda x : x[:-2] if x[-1] in 'ê°€' else x) # ë²•ì •ë™ëª… ê°’ ì¤‘ OOë™ ë’¤ì— 'Xê°€' ê°™ì€ êµ¬íšì´ ë¶™ì€ ê²½ìš° ì‚­ì œ

# ê¸°ì¡´ ì•„íŒŒíŠ¸ ì‹¤ê±°ë˜ ë°ì´í„°ì—ì„œ ì‹ ê³ ë…„ë„/êµ¬ ê°€ ì¼ì¹˜í•˜ëŠ” ë§¤ë§¤ê°€ê²©ì§€ìˆ˜ ë°ì´í„°ë¥¼ ìƒˆë¡œìš´ ì—´ë¡œ ì¶”ê°€
price_index_list = []

for idx, row in apart_all.iterrows():
        price_index_list.append(apart_priceindex[str(row['ì‹ ê³ ë…„ë„'])][row['ìì¹˜êµ¬ëª…']])
        
apart_all['ë§¤ë§¤ì§€ìˆ˜'] = price_index_list
```

- íšŒê·€ ëª¨ë¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ & GridSearch HPO

```python
models = {'KNeighbors':KNeighborsRegressor(),'Randomforest':RandomForestRegressor(),'ExtraTree':ExtraTreeRegressor(),'MLP':MLPRegressor(), 'SGD':SGDRegressor(),
'SVM':SVR(),'CatBoost':CatBoostRegressor(),'LightGBM':LGBMRegressor(),'XGBoost':XGBRegressor()}

model_score = {} # ëª¨ë¸ ì„±ëŠ¥ ì €ì¥ìš© dict

# ëª¨ë¸ê°„ ì ìˆ˜ ë¹„êµ
for name, attr in models.items():
    model = attr
    print(f'{name} model tranning ...')
    model.fit(x_train_transformed, y_train)
    predict_y= model.predict(x_test_transformed)
    model_score_list = []
    model_score_list.append(f'{name} RMSE : {(mean_squared_error(y_test, predict_y)**0.5):.1f}')
    model_score_list.append(f'{name} MAE : {(mean_absolute_error(y_test, predict_y)**0.5):.1f}')
    model_score_list.append(f'{name} R2 score : {(r2_score(y_test, predict_y)*100):.2f} %')
    model_score[f'{name}'] = model_score_list
    model_score_list = []
    
# ëª¨ë¸ê°„ ì ìˆ˜ ë¹„êµ ê²°ê³¼ ì¶œë ¥
for name, score in model_score.items():
    print(f'{name}')
    print(f'{score}')
    print()
    
# MLP GridSearch
model1 = MLPRegressor()

param_grid_mlp={'hidden_layer_sizes': [(32,64),(128,64),(128,256)],
            'batch_size':  [50,100,200],
            'learning_rate_init': [0.01,0.05],
            'max_iter': [100,300,400]
            }

gs1 = GridSearchCV(model1, param_grid_mlp, scoring='neg_mean_squared_error', n_jobs=-1, cv=10, verbose=False)

gs1.fit(x_train_transformed, y_train)

gs1_test_score = mean_squared_error(y_train, gs1.predict(x_train_transformed))
print(f'Best RMSE {(-gs1.best_score_)**0.5} params {gs1.best_params_}')
print()
```

* Stacking ê¸°ë²• ì ìš©

```python
# êµ¬ë³„ ëª¨ë¸ë§ì„ ìœ„í•œ í•œê¸€/ì˜ë¬¸ êµ¬ ì´ë¦„ Dictionary ìƒì„±
gu = {'ë…¸ì›êµ¬':'nowon', 'ì†¡íŒŒêµ¬':'songpa', 'ê°•ì„œêµ¬':'gangseo', 'ê°•ë‚¨êµ¬':'gangnam', 'ê°•ë™êµ¬':'gangdong', 'êµ¬ë¡œêµ¬':'guro', 'ì„±ë¶êµ¬':'seongbuk', 'ì–‘ì²œêµ¬':'yangcheon', 'ë„ë´‰êµ¬':'dobong', 'ì„œì´ˆêµ¬':'seocho',
        'ì˜ë“±í¬êµ¬':'yeongdeungpo', 'ì„±ë™êµ¬':'sungdong', 'ë§ˆí¬êµ¬':'mapo', 'ë™ì‘êµ¬':'dongjak', 'ë™ëŒ€ë¬¸êµ¬':'dongdaemoon', 'ì€í‰êµ¬':'eunpyeong', 'ì¤‘ë‘êµ¬':'jungnang', 'ì„œëŒ€ë¬¸êµ¬':'seodaemoon', 'ê´€ì•…êµ¬':'gwanak', 'ìš©ì‚°êµ¬':'yongsan',
        'ê°•ë¶êµ¬':'gangbuk', 'ê´‘ì§„êµ¬':'gwangjin', 'ê¸ˆì²œêµ¬':'geumcheon', 'ì¤‘êµ¬':'junggu', 'ì¢…ë¡œêµ¬':'jongno'}

model_score = {} # ëª¨ë¸ ì„±ëŠ¥ì§€í‘œ ì €ì¥ìš© dict ìƒì„±

# 1. ëª¨ë¸ ìƒì„± 
# 2. [model, pipeline, stack] pkl íŒŒì¼ ì €ì¥
# 3. ì„±ëŠ¥ í‰ê°€ ì ìˆ˜ ì €ì¥

for kor, eng in gu.items():
    globals()[f'df_{eng}'] = apart_sep[apart_sep['ìì¹˜êµ¬ëª…']==kor] # df_nowon, df_gangnam ...
    
    x = globals()[f'df_{eng}'].drop(['ë¬¼ê±´ê¸ˆì•¡'],axis=1)
    y = globals()[f'df_{eng}']['ë¬¼ê±´ê¸ˆì•¡']
    
    globals()[f'df_{eng}'].to_csv(f'{kor}.csv', encoding='cp949', index=False) # êµ¬ë³„ csv ì €ì¥
    
    x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3, random_state=123) # train, test ë¶„ë¦¬
    
    # ì—°ì†í˜• ë³€ìˆ˜ ì—´ ì…ë ¥
    numeric_features = ['ë§¤ë§¤ì§€ìˆ˜','ì‹ ê³ ë…„ë„','ê±´ë¬¼ë©´ì ','ì¸µì •ë³´','ê±´ì¶•ë…„ë„','ê²½ê³¼ë…„ë„']
    numeric_transformer = StandardScaler()

    # ë²”ì£¼í˜• ë³€ìˆ˜ ì—´ ì…ë ¥
    categorical_features = ['ìì¹˜êµ¬ëª…','ë²•ì •ë™ëª…','ê±´ë¬¼ëª…','ë¸Œëœë“œì ìˆ˜']
    categorical_transformer = OneHotEncoder(categories='auto', handle_unknown='ignore') # ë²”ì£¼í˜• ë°ì´í„°ê°€ x_train, x_testì— ê³ ë¥´ê²Œ ë“¤ì–´ê°€ì§€ ì•ŠëŠ” ê²½ìš° pass í•˜ê¸° ìœ„í•´ handel_unknown param ='ignore' ë¡œ ì„¤ì •

    preprocessor = ColumnTransformer(
        transformers=[ # List of (name, transformer, column(s))
            ('num', numeric_transformer, numeric_features),
            ('cat', categorical_transformer, categorical_features)])
    
    preprocessor_pipe = Pipeline(steps=[('preprocessor', preprocessor)]) # íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ ì…ë ¥
    
    preprocessor_pipe.fit(x_train, x_test) # ë³€ìˆ˜ ë³€í™˜
    
    # ë³€í™˜ëœ ë³€ìˆ˜ë¡œ transform
    x_train_transformed = preprocessor_pipe.transform(x_train)
    x_test_transformed = preprocessor_pipe.transform(x_test)
    
    # stacking 1 level model ì§€ì •
    estimators = [ 
    ('LightGBM', LGBMRegressor(learning_rate=0.05, n_estimators=300, num_leaves=100)),
    ('XGBoost', XGBRegressor(n_estimators=250)),
    ('RandomForest', RandomForestRegressor(n_estimators=200))]
    # ('MLP', MLPRegressor(batch_size=50, hidden_layer_sizes=(128,256), learning_rate_init=0.05, max_iter=400))]
    
    # Initialize StackingTransformer
    stack = StackingTransformer(estimators, 
                                regression = True, 
                                metric = mean_squared_error, 
                                n_folds = 10, stratified = True, shuffle = True, 
                                random_state = 123, verbose = 0)
    
    # Fit
    stack = stack.fit(x_train_transformed, y_train)
    
    # Get your stacked features
    S_train = stack.transform(x_train_transformed)
    S_test = stack.transform(x_test_transformed)
    
    # Use 2nd level estimator with stacked features
    model = CatBoostRegressor(depth=10, l2_leaf_reg = 1, iterations=500, learning_rate = 0.05) 
    model = model.fit(S_train, y_train) 

    y_pred = model.predict(S_test) 
    
    # ëª¨ë¸ ì„±ëŠ¥í‰ê°€ ì ìˆ˜ë¥¼ êµ¬ë³„ë¡œ listì— ëª¨ì•„ë‘” ë’¤ dictë¡œ ì €ì¥ 
    model_score_temp = []
    model_score_temp.append(f'{kor}')
    model_score_temp.append((f'RMSE : {(mean_squared_error(y_test, y_pred)**0.5):.1f}'))
    model_score_temp.append((f'MAE : {(mean_absolute_error(y_test, y_pred)**0.5):.1f}'))
    model_score_temp.append((f'R2 score : {(r2_score(y_test, y_pred)*100):.2f} %'))
    model_score[kor] = model_score_temp
    model_score_temp = [] # ì„±ëŠ¥í‰ê°€ ì ìˆ˜ ì´ˆê¸°í™”
    
    # êµ¬ë³„ pkl íŒŒì¼ ì €ì¥ [Model, Pipeline(feature scaling), stacking]
    joblib.dump(model, f'model_apart_{eng}.pkl', compress=True) # model save
    joblib.dump(preprocessor_pipe, f'pipeline_{eng}.pkl', compress=True) # feature scaling pipeline save
    joblib.dump(stack, f'stack_{eng}.pkl', compress=True) # stacking transform save
```


## ğŸ“Œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

- ëª¨ë¸ í•™ìŠµ ì‹œ R2 Score ê°’ì´ `-` ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆëŠ”ë° R2 Score ì˜ ê³„ì‚°ë°©ì‹ì—ì„œëŠ” `-` ê°€ ë‚˜ì˜¬ ìˆ˜ ì—†ëŠ” ê²ƒì´ ì •ìƒì´ê¸° ë•Œë¬¸ì— ì˜ëª»ëœ ê°’ìœ¼ë¡œ íŒë‹¨í•˜ê³  Hyper-Parameter ì¡°ì •ì„ í†µí•´ ì œëŒ€ë¡œ ëœ ìˆ˜ì¹˜ êµ¬í˜„

- ë‹¤ì–‘í•œ ì•„íŒŒíŠ¸ ì´ë¦„ ì†ì—ì„œ íŠ¹ì • ë¸Œëœë“œ ì•„íŒŒíŠ¸ ì´ë¦„ì„ í¬í•¨í•œ ì•„íŒŒíŠ¸ë§Œ ì°¾ì•„ ë³„ë„ì˜ Featureë¥¼ ìƒì„±í•´ ê°€ì‚°ì ì„ ë¶€ì—¬í•˜ê³  ì‹¶ì—ˆì§€ë§Œ pandas ë‚´ì— contains í•¨ìˆ˜ëŠ” ë¬¸ìì—´ í•˜ë‚˜ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì›í•˜ëŠ” ëŒ€ë¡œ ì‚¬ìš©ì´ í˜ë“¤ì–´ êµ¬ê¸€ë§ì„ í†µí•´ í•´ê²°

  - contains ê¸°ëŠ¥ì€ ë¬¸ìì—´ í•˜ë‚˜ë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ê°€ì§€ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì„ í•œë²ˆì— ì°¾ì„ ìˆ˜ê°€ ì—†ì–´ ì—¬ëŸ¬ê°œì˜ ë°ì´í„°ë¥¼ `OR(=|)` í˜•íƒœì˜ strë¡œ ë¬¶ì–´ contains ì— ì…ë ¥ ```ex) brand = '|'.join(brands)``` 

- ì„œìš¸ì‹œ ì „ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ëª¨ë¸ì„ í•™ìŠµì‹œí‚¨ ê²½ìš° MSE ê°’ê³¼ R2 Scoreê°€ ì˜ˆìƒë³´ë‹¤ ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šì•„ ìë£Œë¥¼ ë‹¤ì‹œ ê²€í† í•´ ë³¸ ê²°ê³¼ êµ¬ë³„ë¡œ ì•„íŒŒíŠ¸ì˜ ê°€ê²©ì´ ì²œì°¨ë§Œë³„ë¡œ ë‹¤ë¥¸ ì–‘ìƒì„ ë³´ì—¬ ê²°êµ­ 1ê°œì˜ ëª¨ë¸ì—ì„œ ì„œìš¸ì‹œ ë‚´ ëª¨ë“  ì§€ì—­êµ¬ ë³„ë¡œ ëª¨ë¸ì„ í•™ìŠµì‹œì¼œ MSE ê°’ê³¼ R2 Scoreë¥¼ í–¥ìƒì‹œí‚¤ëŠ”ë° ì„±ê³µí–ˆë‹¤.


## ğŸ“Œ í›„ì† ê³¼ì œ

- ë‹¨ë…ì£¼íƒ / ì—°ë¦½ì£¼íƒ / ì˜¤í”¼ìŠ¤í…”ê¹Œì§€ í¬í•¨í•œ ì„œìš¸ì‹œ ë¶€ë™ì‚° ê°€ê²© ì˜ˆì¸¡
  - ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì•„íŒŒíŠ¸ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ê°€ê²© ì˜ˆì¸¡ ëª¨ë¸ ìƒì„±

- êµ¬ ë³„ë¡œ ë‚˜ëˆ„ì–´ì§„ ëª¨ë¸ì„ ë™ ë‹¨ìœ„ê¹Œì§€ ì„¸ë¶„í™”
  - ë¶€ë™ì‚° ë°ì´í„°ê°€ ë” ì¶”ê°€ëœë‹¤ëŠ” ê°€ì • ì•„ë˜ ì‹¤í˜„ ê°€ëŠ¥í•  ê²ƒìœ¼ë¡œ ì¶”ì¸¡

- ì˜ˆì¸¡ ê°€ê²©ê³¼ í•¨ê»˜ ì‹¤ì œ ì•„íŒŒíŠ¸ ê°€ê²© ì œê³µ


## ğŸ“Œ íšŒê³  / ëŠë‚€ ì 

- êµ¬ë³„ë¡œ ëª¨ë¸ì„ ë§Œë“¤ë©° ë°˜ë³µì ì¸ ëª¨ë¸ ìƒì„± ì‹œ ë°˜ë³µë¬¸ í™œìš© ë°©ë²•ê³¼ ë³€ìˆ˜ ìƒì„±ì— ëŒ€í•´ ë§ì€ ë°œì „ì´ ìˆì—ˆë‹¤.
- êµ¬ ë³„ë¡œ RMSE ê°’ì´ ì°¨ì´ê°€ ë‚˜ëŠ” ì´ìœ ì²˜ëŸ¼ ë°ì´í„°ì— ëŒ€í•´ ë‹¤ì–‘í•œ ì‹œê°ìœ¼ë¡œ ì ‘ê·¼ì„ í•´ì•¼ ë¬¸ì œ í•´ê²°ì´ ìˆ˜ì›”í•´ì§ˆ ìˆ˜ ìˆë‹¤.

  - í˜•ì„±ëœ ë¶€ë™ì‚°ì˜ ì‹œì„¸ì— ë”°ë¼ ê°™ì€ R2 Score ìˆ˜ì¹˜ë¥¼ ê°€ì§€ê³  ìˆì–´ë„ RMSE ê°’ì´ ì°¨ì´ ë‚  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ í™•ì¸í–ˆë‹¤. (ë¶€ë™ì‚° ì‹œì„¸ â†‘ = RMSE â†‘)

- ëª¨ë¸ì„ ì—¬ëŸ¬ ê°œë¥¼ ì‚¬ìš©í•´ ì„±ëŠ¥ í–¥ìƒì„ ì˜¬ë ¤ì£¼ëŠ” Stacking ê°™ì€ ê¸°ë²•ì„ í™œìš© ì‹œ ë‹¤ì–‘í•œ ì˜ˆì¸¡ ê¸°ë°˜ ëª¨ë¸ì„ ì„ì–´ ì£¼ëŠ” ê²ƒì´ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.
- ë¨¸ì‹ ëŸ¬ë‹/ë”¥ëŸ¬ë‹ ëª¨ë¸ì˜ ì„±ëŠ¥ì€ ë°ì´í„°ì˜ ì–‘ì´ ê°€ì¥ ë†’ì€ ì˜í–¥ì„ ë¯¸ì¹˜ê³  ê·¸ ì™¸ ìˆ˜ë‹¨(HPO.. ì •ê·œí™” ë“±)ì— ëŒ€í•´ì„œëŠ” ë°ì´í„°ì˜ ì–‘ì´ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒë³´ë‹¤ ê·¹ì ì¸ íš¨ê³¼ëŠ” ì—†ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.
